{% extends 'base.html' %}
{% block content %}
    <div class="container mt-3">
        <div class="row mt-2">
            <div class="col-12">
                <div class="alert alert-dark h4 text-justify" role="alert">
                    DATE : {{ repart.start|date:'d-m-Y' }} - GARDE : {{ repart.duty.name|upper }}
                    ({{ repart.duty.phone_hop }}) - SSPI : {{ repart.sspi.name }} ({{ repart.sspi.phone_hop }})
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-6">
                <table class="table table-sm small table-striped border border-primary">
                    <thead class="text-dark bg-primary">
                    <tr>
                        <th>Salle</th>
                        <th>Heure</th>
                        <th>Chirurgien</th>
                        <th>Anesthésiste</th>
                        <th>IADE</th>
                        <th>Interne</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for matin_line in matin_lines %}
                        {% if forloop.counter < 11 %}
                            <tr>
                                <th>{{ matin_line.room }}</th>
                                <th>{{ matin_line.start_time|default_if_none:'' }}</th>
                                {% if matin_line.operator %}
                                    <th>{{ matin_line.operator.name|default_if_none:'Rien' }}</th>
                                {% else %}
                                    <th class="text-danger">Rien</th>
                                {% endif %}
                                {% if matin_line.rpt %}
                                    <th class="font-italic">{{ matin_line.rpt.name }}</th>
                                {% else %}
                                    <th>{{ matin_line.are.name|default_if_none:'' }}</th>
                                {% endif %}
                                <th>{{ matin_line.iade|default_if_none:'' }}</th>
                                <th>{{ matin_line.interne|default_if_none:'' }}</th>
                            </tr>
                        {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-6">
                <table class="table table-sm small table-striped border border-primary">
                    <thead class="text-dark bg-primary">
                    <tr>
                        <th>Salle</th>
                        <th>Heure</th>
                        <th>Chirurgien</th>
                        <th>Anesthésiste</th>
                        <th>IADE</th>
                        <th>Interne</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for apm_line in apm_lines %}
                        {% if forloop.counter < 11 %}
                            <tr>
                                <th>{{ apm_line.room }}</th>
                                <th>{{ apm_line.start_time }}</th>
                                {% if apm_line.operator %}
                                    <th>{{ apm_line.operator.name|default_if_none:'Rien' }}</th>
                                {% else %}
                                    <th class="text-danger">Rien</th>
                                {% endif %}
                                {% if apm_line.rpt %}
                                    <th class="font-italic">{{ apm_line.rpt.name }}</th>
                                {% else %}
                                    <th>{{ apm_line.are.name|default_if_none:'' }}</th>
                                {% endif %}
                                <th>{{ apm_line.iade|default_if_none:'' }}</th>
                                <th>{{ apm_line.interne|default_if_none:'' }}</th>
                            </tr>
                        {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <table class="table table-sm small table-striped  border border-info">
                    <thead class="text-dark bg-info">
                    <tr>
                        <th>Conultation 1</th>
                        <th>Consultation 2</th>
                        <th>Consultation 3</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        {% for csm in matin_cs %}
                            <th>{{ csm.are.name }}</th>
                        {% endfor %}
                    </tr>
                    <tr>
                        {% for csa in apm_cs %}
                            <th>{{ csa.are.name }}</th>
                        {% endfor %}
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-6">
                <table class="table table-sm small table-striped  border border-info">
                    <thead class="text-dark bg-info">
                    <tr>
                        <th>Rempla.</th>
                        <th>Rempla.</th>
                        <th>Rempla.</th>
                        <th>Rempla.</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        {% for rempla in remplas %}
                            <th>{{ rempla.are.name }}</th>
                        {% endfor %}
                    </tr>
                    <tr>
                        {% for rempla in remplas %}
                            <th>{{ rempla.rpt.name }}</th>
                        {% endfor %}
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <table class="table table-sm small table-striped border border-primary">
                    <thead class="text-dark bg-primary">
                    <tr>
                        <th>Salle</th>
                        <th>Heure</th>
                        <th>Chirurgien</th>
                        <th>Anesthésiste</th>
                        <th>IADE</th>
                        <th>Interne</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for matin_line in matin_lines %}
                        {% if forloop.counter > 10 %}
                            <tr>
                                <th>{{ matin_line.room }}</th>
                                <th>{{ matin_line.start_time|default_if_none:'' }}</th>
                                {% if matin_line.operator %}
                                    <th>{{ matin_line.operator.name|default_if_none:'Rien' }}</th>
                                {% else %}
                                    <th class="text-danger">Rien</th>
                                {% endif %}
                                {% if matin_line.rpt %}
                                    <th class="font-italic">{{ matin_line.rpt.name }}</th>
                                {% else %}
                                    <th>{{ matin_line.are.name|default_if_none:'' }}</th>
                                {% endif %}
                                <th>{{ matin_line.iade|default_if_none:'' }}</th>
                                <th>{{ matin_line.interne|default_if_none:'' }}</th>
                            </tr>
                        {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-6">
                <table class="table table-sm small table-striped  border border-primary">
                    <thead class="text-dark bg-primary">
                    <tr>
                        <th>Salle</th>
                        <th>Heure</th>
                        <th>Chirurgien</th>
                        <th>Anesthésiste</th>
                        <th>IADE</th>
                        <th>Interne</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for apm_line in apm_lines %}
                        {% if forloop.counter > 10 %}
                            <tr>
                                <th>{{ apm_line.room }}</th>
                                <th>{{ apm_line.start_time }}</th>
                                {% if apm_line.operator %}
                                    <th>{{ apm_line.operator.name|default_if_none:'Rien' }}</th>
                                {% else %}
                                    <th class="text-danger">Rien</th>
                                {% endif %}
                                {% if apm_line.rpt %}
                                    <th class="font-italic">{{ apm_line.rpt.name }}</th>
                                {% else %}
                                    <th>{{ apm_line.are.name|default_if_none:'' }}</th>
                                {% endif %}
                                <th>{{ apm_line.iade|default_if_none:'' }}</th>
                                <th>{{ apm_line.interne|default_if_none:'' }}</th>
                            </tr>
                        {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock %}